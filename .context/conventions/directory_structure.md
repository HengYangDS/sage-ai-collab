# Directory Structure Conventions

> Project directory organization rules for SAGE Knowledge Base

---

## Table of Contents

[1. Overview](#1-overview) · [2. Directory Definitions](#2-directory-definitions) · [3. Content Placement Rules](#3-content-placement-rules) · [4. File Naming](#4-file-naming)

---

## 1. Overview

SAGE Knowledge Base follows a structured directory organization with clear separation of concerns:

| Category              | Directory    | Visibility | Git Tracked |
|-----------------------|--------------|------------|-------------|
| Project-specific      | `.context/`  | Hidden     | Yes         |
| Generic knowledge     | `content/`   | Visible    | Yes         |
| External docs         | `docs/`      | Visible    | Yes         |
| Session history       | `.history/`  | Hidden     | Yes         |
| Archives              | `.archive/`  | Hidden     | Yes         |
| Backups               | `.backups/`  | Hidden     | Yes         |
| Log files             | `.logs/`     | Hidden     | No*         |
| Intermediate outputs  | `.outputs/`  | Hidden     | No*         |

\* Only `.gitkeep` is tracked.

---

## 2. Directory Definitions

### 2.1 `.context/` — Project-Specific Knowledge

**Purpose**: Store knowledge that is specific to this project only.

| Subdirectory     | Content                              |
|------------------|--------------------------------------|
| `conventions/`   | Project-specific coding conventions  |
| `decisions/`     | Architecture Decision Records (ADRs) |
| `intelligence/`  | AI intelligence patterns             |

**Examples**:
- SAGE-specific naming rules
- ADR for choosing FastMCP over alternatives
- Learned patterns for this codebase

### 2.2 `content/` — Generic Reusable Knowledge

**Purpose**: Store universal knowledge that helps AI collaboration and can be reused across projects.

| Subdirectory   | Content                           |
|----------------|-----------------------------------|
| `core/`        | Core principles, defaults         |
| `guidelines/`  | Code style, engineering standards |
| `frameworks/`  | Autonomy, timeout, cognitive      |
| `practices/`   | Best practices, workflows         |
| `scenarios/`   | Context-specific presets          |
| `templates/`   | Reusable document templates       |

**Examples**:
- Python coding standards (universal)
- AI autonomy framework (reusable)
- Expert committee template (generic)

### 2.3 `docs/` — External Documentation

**Purpose**: User-facing documentation for the project.

| Subdirectory | Content                    |
|--------------|----------------------------|
| `design/`    | Design documents           |
| `api/`       | API documentation          |
| `guides/`    | User and developer guides  |
| `standards/` | Standards documentation    |

### 2.4 `.history/` — Session History

**Purpose**: Store AI session records and task handoffs.

| Subdirectory     | Content                    |
|------------------|----------------------------|
| `current/`       | Current session state      |
| `conversations/` | Conversation records       |
| `handoffs/`      | Task handoff documents     |

### 2.5 `.archive/` — Historical Archives

**Purpose**: Store deprecated or historical content.

**Organization**: By month (`YYYYMM/`) or by topic.

### 2.6 `.logs/` — Runtime Logs

**Purpose**: Store runtime log files generated by the application.

**Git Policy**: Ignored (only `.gitkeep` tracked).

### 2.7 `.outputs/` — Intermediate Files

**Purpose**: Store intermediate process files, test outputs, generated artifacts.

**Git Policy**: Ignored (only `.gitkeep` tracked).

**Examples**:
- Test result JSON files
- Generated reports
- Temporary processing artifacts

### 2.8 `.backups/` — Backup Files

**Purpose**: Store backup copies of important files before major changes or refactoring.

**Git Policy**: Tracked (preserves backup history).

**Examples**:
- Pre-refactoring code snapshots
- Configuration backups before migrations
- Critical data backups

**Organization**: By date (`YYYY-MM-DD/`) or by topic.

---

## 3. Content Placement Rules

### Decision Tree

```
Is this knowledge project-specific?
├─ YES → .context/
│   ├─ Coding convention? → .context/conventions/
│   ├─ Architecture decision? → .context/decisions/
│   └─ AI pattern? → .context/intelligence/
│
└─ NO (Generic/Reusable) → content/
    ├─ Core philosophy? → content/core/
    ├─ Engineering guideline? → content/guidelines/
    ├─ Deep framework? → content/frameworks/
    ├─ Best practice? → content/practices/
    ├─ Scenario preset? → content/scenarios/
    └─ Template? → content/templates/

Is this user-facing documentation?
└─ YES → docs/

Is this session-related?
└─ YES → .history/

Is this deprecated content?
└─ YES → .archive/

Is this a backup before major changes?
└─ YES → .backups/

Is this a runtime log?
└─ YES → .logs/

Is this an intermediate/generated file?
└─ YES → .outputs/
```

### Quick Reference

| Content Type                    | Location                  |
|---------------------------------|---------------------------|
| Project naming conventions      | `.context/conventions/`   |
| Universal Python style guide    | `content/guidelines/`     |
| ADR for technology choice       | `.context/decisions/`     |
| API reference documentation     | `docs/api/`               |
| Session handoff document        | `.history/handoffs/`      |
| Old deprecated code             | `.archive/`               |
| Pre-refactoring snapshots       | `.backups/`               |
| Application runtime logs        | `.logs/`                  |
| Test output files               | `.outputs/`               |

---

## 4. File Naming

| Type         | Convention              | Example                      |
|--------------|-------------------------|------------------------------|
| Markdown     | `snake_case.md`         | `directory_structure.md`     |
| ADR          | `ADR-NNNN-title.md`     | `ADR-0001-fastmcp-choice.md` |
| Session      | `YYYY-MM-DD-topic.md`   | `2025-11-29-timeout.md`      |
| Handoff      | `YYYY-MM-DD-handoff.md` | `2025-11-29-api-handoff.md`  |
| Archive      | `YYYYMM/`               | `202511/`                    |

---

## Related

- `docs/design/01-architecture.md` — Full directory structure diagram
- `.junie/guidelines.md` — AI collaboration guidelines

---

*Part of SAGE Knowledge Base - Project Conventions*
